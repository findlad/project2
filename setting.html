<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Settings</title>
    <link rel="stylesheet" href="setting.css" />
    <script src="config.js"></script>
    <script src="sms.js"></script>
    <script src="remote.js"></script>
    <script src="iot.js"></script>
    <script src="setting.js"></script>
    <script src="time_script.js" defer></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto&display=swap"
      rel="stylesheet"
    />
    <script src="https://unpkg.com/i18next@23.7.7/dist/umd/i18next.min.js"></script>
    <script>
      var curLanguage = localStorage.getItem("language") || "en";
      const translationResources = {
        en: {
          translation: {
            title: "Settings",
            call_supporter: "CALL SUPPORTER",
            home: "HOME",
            select_language: "Select Language",
            carousel: "Carousel",
            original: "Original",
            img_language: "LANGUAGE_en.png",
            img_colour: "COLOUR_en.png",
            img_home_display: "HOME DISPLAY_en.png",
            img_supporter_settings: "SUPPORTER SETTINGS_en.png"
          },
        },
        fr: {
          translation: {
            title: "Paramètres",
            call_supporter: "APPELER LE SOUTIEN",
            home: "ACCUEIL",
            select_language: "Sélectionner la Langue",
            carousel: "Carrousel",
            original: "Originale",
            img_language: "LANGUAGE_fr.png",
            img_colour: "COLOUR_fr.png",
            img_home_display: "HOME DISPLAY_fr.png",
            img_supporter_settings: "SUPPORTER SETTINGS_fr.png"
          },
        },
      };

      const savedLanguage = localStorage.getItem("language") || "en";
      i18next.init(
        {
          lng: savedLanguage, // If you want to start with English
          debug: true,
          resources: translationResources,
        },
        function (err, t) {
          // Initialize your UI
        }
      );

    </script>
  </head>

  <body>
    <div class="topbox">
      <div class="wrapper">
        <img
          src="Vector.png"
          alt="contacts logo" 
          height="120px"
          padding="25px"
        />
        <p id="titleID" class="textBeside">Settings</p>
      </div>
      <div>
        <img
          src="gardenLoftImage.svg"
          alt="garden loft logo"
          class="glLogo"
          height="227"
        />
      </div>
    </div>
    <div class="emergeButton">
      <img
        src="img_Supporter.png"
        alt="Supporter"
        height="113px"
        id="emergency-call"
        class="emergency-call item"
      />
    </div>
    <p id="callSupporterID" class="textBelow">CALL SUPPORTER</p>
    <div class="container">
      <!-- Your flex items go here -->
      <div class="gridContainer">
        <img id="languageImageID" src="LANGUAGE.png" alt="Language">
        <img id="homeDisplayImageID" src="HOME DISPLAY.png" alt="Home display">
        <img id="colourImageID" src="COLOUR.png" alt="COLOUR">

        <div class="Selectlanguage drop">
          <button id="selectLanguageID" onclick="myFunction(event)" class="dropbtn" aria-controls="LanguageDropdown">Select Language</button>
          <div id="LanguageDropdown" class="dropdown-content">
            <a onclick="changeLanguageLocal('en')">English</a>
            <a onclick="changeLanguageLocal('fr')">French</a>
          </div>
        </div>
        
        <div class="SelectCarousal drop">
          <button id="carouselID" onclick="myFunction(event)" class="dropbtn" aria-controls="Carouseldropdown">Carousel</button>
          <div id="Carouseldropdown" class="dropdown-content">
            <a href="#Carousal">Carousel</a>
            <a href="#Grid">Grid</a>
          </div>
        </div>
        
        <div class="SelectOriginal drop">
          <button id="originalID" onclick="myFunction(event)" class="dropbtn" aria-controls="Originaldropdown">Original</button>
          <div id="Originaldropdown" class="dropdown-content">
            <a href="#Original">Original</a>
          </div>
        </div>
      </div>  
    </div>
  <div class="qrbox">
    <img id="supporterSettingsImageID" src="SUPPORTER SETTINGS.png" alt="qrcode">
  </div>
  <div class="lower">
    <img
      id="homeButtonID"
      src="img_HomeEng.png"
      alt="home"
      onclick="window.location.href='menuCarousel.html';"
      class="item"
      height="113px"
    />
    
  </div>
  <div><p id="homeButtonTextID" class="textBelow">HOME</p></div>
  </body>
    <script src="calling.js"></script>

    <script>
      function changeLanguageLocal(lng) {
        i18next.changeLanguage(lng, function (err, t) {
          // document.getElementById("settings_button").src =
          //   i18next.t("settings_image");
          // document
          //   .querySelectorAll(
          //     ".slide1 .tranding-slide-content .tranding-slide-content-bottom p"
          //   )
          //   .forEach(function (el) {
          //     el.innerHTML = i18next.t("smart_loft");
          //   });
          // document
          //   .querySelectorAll(
          //     ".slide2 .tranding-slide-content .tranding-slide-content-bottom p"
          //   )
          //   .forEach(function (el) {
          //     el.innerHTML = i18next.t("entertainment");
          //   });
          // document
          //   .querySelectorAll(
          //     ".slide3 .tranding-slide-content .tranding-slide-content-bottom p"
          //   )
          //   .forEach(function (el) {
          //     el.innerHTML = i18next.t("schedule");
          //   });
          // document
          //   .querySelectorAll(
          //     ".slide4 .tranding-slide-content .tranding-slide-content-bottom p"
          //   )
          //   .forEach(function (el) {
          //     el.innerHTML = i18next.t("screensaver");
          //   });
          // document
          //   .querySelectorAll(
          //     ".slide5 .tranding-slide-content .tranding-slide-content-bottom p"
          //   )
          //   .forEach(function (el) {
          //     el.innerHTML = i18next.t("contacts");
          //   });
          document.getElementById("titleID").innerText = i18next.t("title");
          document.getElementById("callSupporterID").innerText =
            i18next.t("call_supporter");
          document.getElementById("homeButtonTextID").innerText =
            i18next.t("home");
          document.getElementById("selectLanguageID").innerText = i18next.t("select_language");
          document.getElementById("carouselID").innerText = i18next.t("carousel");
          document.getElementById("originalID").innerText = i18next.t("original");
          document.getElementById("homeDisplayImageID").src = i18next.t("img_home_display");
          document.getElementById("languageImageID").src = i18next.t("img_language");
          document.getElementById("colourImageID").src = i18next.t("img_colour");
          document.getElementById("supporterSettingsImageID").src = i18next.t("img_supporter_settings");
          //updateDateTime(lng);
          localStorage.setItem("language", lng);
          curLanguage = lng;

          // update your UI
        });
      }

    </script>

<script>
  document.addEventListener("DOMContentLoaded", (event) => {
    const savedLanguage = localStorage.getItem("language") || "en"; // Use saved language or default to 'en'
    changeLanguageLocal(savedLanguage);
  });
</script>
  </body>
</html>
