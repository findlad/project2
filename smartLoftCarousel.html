<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Loft</title>
    <link rel="stylesheet" href="https://unpkg.com/swiper@8/swiper-bundle.min.css" />
    <link rel="stylesheet" href="smartLoftCarousel.css">
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto&display=swap"
      rel="stylesheet"
    />
    
    <script src="https://unpkg.com/i18next@23.7.7/dist/umd/i18next.min.js"></script>
    <script>
      var curLanguage = localStorage.getItem('language') || 'en';;
      const translationResources = {
        en: {
          translation: {
            home_image: "homeButton_en.png",
            smart_loft: "SmartLoft",
            all_lights: "All Lights",
            bedroom: "Bedroom",
            kitchen: "Kitchen",
            temperature: "Temperature",
            doorlock: "Door Lock",
            outside: "Outside",
            call_support_image: "img_CallSupport_en.png"
          },
        },
        fr: {
          translation: {
          home_image: "homeButton_fr.png",
          smart_loft: "LoftAstucieux",
          all_lights: "Toutes Lumières",
          bedroom: "Chambre",
          kitchen: "Cuisine",
          temperature: "Température",
          doorlock: "Serrure de porte",
          outside: "Extérieur",
          call_support_image: "img_CallSupport_fr.png"
      },

        },
      };

      const savedLanguage = localStorage.getItem('language') || 'en';
      i18next.init(
        {
          lng: savedLanguage, // If you want to start with English
          debug: true,
          resources: translationResources,
        },
        function (err, t) {
          // Initialize your UI
        }
      );

      function changeLanguage(lng) {
        i18next.changeLanguage(lng, function (err, t) {
          document.querySelectorAll('.slide1 .tranding-slide-content .tranding-slide-content-bottom p').forEach(function(el) {
            el.innerHTML = i18next.t("all_lights");
          });
          document.querySelectorAll('.slide2 .tranding-slide-content .tranding-slide-content-bottom p').forEach(function(el) {
            el.innerHTML = i18next.t("bedroom");
          });
          document.querySelectorAll('.slide3 .tranding-slide-content .tranding-slide-content-bottom p').forEach(function(el) {
            el.innerHTML = i18next.t("kitchen");
          });
          document.querySelectorAll('.slide4 .tranding-slide-content .tranding-slide-content-bottom p').forEach(function(el) {
            el.innerHTML = i18next.t("outside");
          });
          document.querySelectorAll('.slide5 .tranding-slide-content .tranding-slide-content-bottom p').forEach(function(el) {
            el.innerHTML = i18next.t("doorlock");
          });
          document.querySelectorAll('.slide6 .tranding-slide-content .tranding-slide-content-bottom p').forEach(function(el) {
            el.innerHTML = i18next.t("temperature");
          });
          document.getElementById("emergency-call").setAttribute('src', i18next.t("call_support_image"));
          document.getElementById("homeButtonID").setAttribute('src', i18next.t("home_image"));
          document.getElementById("smartLoftTitleID").innerText = i18next.t("smart_loft");
          localStorage.setItem('language', lng);
          curLanguage = lng;
        
          // update your UI
        });
      }

      function toggleLanguage() {
        //console.log("language changed")
        if (curLanguage == "en") {
          changeLanguage("fr");
        } else {
          changeLanguage("en");
        }
      }
    </script>


  </head>

  <body>
    <div class="topbox">
      <div class="wrapper">
        <img
          src="img_smartLoft.png"
          alt="schedule logo"
          height="120px"
          padding="25px"
        />
        <p id="smartLoftTitleID" class="textBeside">SmartLoft</p>
      </div>

      <div>
        <img
          src="gardenLoftImage.svg"
          alt="garden loft logo"
          class="glLogo"
          height="227"
        />
      </div>
    </div>
    <div class="emergeButton">
      <img
        src="img_callSupport.png"
        alt="Supporter"
        height="113px"
        id="emergency-call"
        class="emergency-call item"
      />
    </div>
    <section id="tranding">      
        <div class="swiper tranding-slider">
          <div class="swiper-wrapper">


            <!-- Slide-start -->
            <div class="swiper-slide tranding-slide slide1" onclick="allOnOffLocal()">
              <div class="tranding-slide-img">
                <img id="allLightsIcon" src="img_ONAlllights.png" alt="All lights on">
              </div>
                           
              <div class="tranding-slide-content">
                
                <div class="tranding-slide-content-bottom">
                  <p>All Lights</p>
                 
                   
                   
                 
                </div>
              </div>
            </div>
            <!-- Slide-end -->
            <!-- Slide-start -->
            <div class="swiper-slide tranding-slide slide2"  onclick="localToggleSwitch()">
              <div class="tranding-slide-img">
                <div id="bedroomLamp"></div>
                <img id="switch" src="img_ONlamp.png" alt="Lamp" >
              </div>
              <div class="tranding-slide-content">
                
                <div class="tranding-slide-content-bottom">
                  <p>Bedroom</p>
                  
                 
                </div>
              </div>
            </div>
            <!-- Slide-end -->
            <!-- Slide-start -->
            <div class="swiper-slide tranding-slide slide3" onclick="localToggleSwitchKitchen()">
              <div class="tranding-slide-img">
                <img src="img_ONKitchenLight.png" alt="Kitchen light">
              </div>
              <div class="tranding-slide-content">
               
                <div class="tranding-slide-content-bottom">
                  <p>Kitchen</p>
                 
                  
                </div>
              </div>
            </div>
            <!-- Slide-end -->
            <!-- Slide-start -->
            <div class="swiper-slide tranding-slide slide4">
              <div class="tranding-slide-img">
                <img src="img_ONoutdoorlight.png" alt="outdoor light">
              </div>
              <div class="tranding-slide-content">
                
                <div class="tranding-slide-content-bottom">
                  <p>Outside</p>
                 
                </div>
              </div>
            </div>
            <!-- Slide-end -->
            <!-- Slide-start -->
            <div class="swiper-slide tranding-slide slide5">
              <div class="tranding-slide-img">
                <img src="img_ONdoorlock.png" alt="Door lock">
              </div>
              <div class="tranding-slide-content">
                
                <div class="tranding-slide-content-bottom">
                  <p>Door Lock</p>
                 
                </div>
              </div>
            </div>
            <!-- Slide-end -->
             <!-- Slide-start -->
             <div class="swiper-slide tranding-slide slide6">
              <div class="tranding-slide-img">
                <img src="img_ONTemp.png" alt="Temp">
              </div>
              <div class="tranding-slide-content">
                
                <div class="tranding-slide-content-bottom">
                  <p>Temperature</p>
                 
                </div>
              </div>
            </div>
            <!-- Slide-end -->
          </div>
         
          

          <div class="tranding-slider-control">
            <div class="swiper-button-prev slider-arrow">
              <ion-icon name="arrow-back-outline"></ion-icon>
            </div>
            <div class="swiper-button-next slider-arrow">
              <ion-icon name="arrow-forward-outline"></ion-icon>
            </div>
            <div class="swiper-pagination"></div>
          </div>

        </div>
      </div>
      <div class="lower">
        <img
          id="homeButtonID"
          src="homeButton.png"
          alt="home"
          onclick="window.location.href='menuCarousel.html';"
          class="item"
        />
      </div>
    </section>
    <script src="config.js"></script>
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <script src="https://unpkg.com/swiper@8/swiper-bundle.min.js"></script>
    <script src="smartLoftCarousel.js"></script>
    <script src="tvNav.js"></script>
    <script src="tvNavRemote.js"></script>
    <script src="sms.js"></script>
    <script src="iot.js"></script>
    <script src="calling.js"></script>

    <script>
      // Global variable to track the state of the lights
      var lightsAreOn = false;
    
      function allOnOffLocal() {
    
        // Toggle the state
        lightsAreOn = !lightsAreOn;
    
        // Update the image source based on the state
        var newImageSrc = lightsAreOn ? "img_ONAlllights.png" : "img_OFFAlllights.png";
        document.querySelectorAll('.slide1 .tranding-slide-img img').forEach(function(el) {
          el.src = newImageSrc;
        });
    
        // Call the appropriate function based on the state
        if (lightsAreOn) {
          allOn();
        } else {
          allOff(); // Assuming you have an allOff function
        }
      }
    </script>

    <script>
      // Global variable to track the state of the lights
      var lampIsOn = false;

      function localToggleSwitch() {

        // Toggle the state
        lampIsOn = !lampIsOn;

        // Update the image source based on the state
        var newImageSrc = lampIsOn ? "img_ONlamp.png" : "img_OFFlamp.png";
        document.querySelectorAll('.slide2 .tranding-slide-img img').forEach(function(el) {
          el.src = newImageSrc;
        });

        toggleSwitch();
      }
    </script>

    <script>
      // Global variable to track the state of the lights
      var kitchenLampIsOn = false;

      function localToggleSwitchKitchen() {

        // Toggle the state
        kitchenLampIsOn = !kitchenLampIsOn;

        // Update the image source based on the state
        var newImageSrc = kitchenLampIsOn ? "img_ONKitchenLight.png" : "img_OFFKitchenLight.png";
        document.querySelectorAll('.slide3 .tranding-slide-img img').forEach(function(el) {
          el.src = newImageSrc;
        });

        toggleSwitchKitchen()
      }
    </script>


    <script>
      document.addEventListener('DOMContentLoaded', (event) => {
        const savedLanguage = localStorage.getItem('language') || 'en'; // Use saved language or default to 'en'
        console.log(savedLanguage);
        changeLanguage(savedLanguage);
      });
    </script>

  </body>

</html>